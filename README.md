# Carbone Service

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ PDF –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏–∑ —à–∞–±–ª–æ–Ω–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ [Carbone](https:

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ß–µ—Ä–µ–∑ Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
docker build -t carbone-service .

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker run -p 3001:3001 carbone-service
```

–°–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `http:

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- Node.js >= 16.0.0
- LibreOffice **7.5.1.1** (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –¥–ª—è Carbone 3.5.6)

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ LibreOffice:**

```bash
# macOS (Intel –∏ Apple Silicon)
# –°–∫–∞—á–∞–π—Ç–µ LibreOffice 7.5.1.1 —Å https://downloadarchive.documentfoundation.org/libreoffice/old/7.5.1.1/mac/x86_64/
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ .dmg —Ñ–∞–π–ª

# Linux
# –°–∫–∞—á–∞–π—Ç–µ —Å https://downloadarchive.documentfoundation.org/libreoffice/old/7.5.1.1/deb/x86_64/
```

**‚ö†Ô∏è –í–∞–∂–Ω–æ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ LibreOffice 7.5.x –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å Carbone 3.5.6. –í–µ—Ä—Å–∏–∏ 7.6+ –º–æ–≥—É—Ç –≤—ã–∑—ã–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏.

**–ó–∞–ø—É—Å–∫:**

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å
npm start
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

```bash
curl http:```

## üì° API

### POST /api/v1/generate

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞ –∏–∑ —à–∞–±–ª–æ–Ω–∞.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `template` (file) - –§–∞–π–ª —à–∞–±–ª–æ–Ω–∞ (.docx, .odt, .xlsx, .ods)
- `data` (JSON string) - –î–∞–Ω–Ω—ã–µ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è
- `options` (JSON string, optional) - –û–ø—Ü–∏–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏

**–ü—Ä–∏–º–µ—Ä:**
```bash
curl -X POST http:  -F "template=@template.docx" \
  -F 'data={"name":"–ò–≤–∞–Ω","date":"2025-11-18"}' \
  --output result.pdf
```

**–§–æ—Ä–º–∞—Ç —à–∞–±–ª–æ–Ω–∞:**

–í DOCX –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∞—Ä–∫–µ—Ä—ã `{d.field}`:

```
–ü—Ä–∏–≤–µ—Ç, {d.name}!
–î–∞—Ç–∞: {d.date}
```

### GET /api/v1/health

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞.

**–û—Ç–≤–µ—Ç:**

```json
{
  "status": "ok",
  "uptime": 123.45,
  "timestamp": "2025-11-18T10:00:00.000Z",
  "carbone": {
    "version": "3.2.3",
    "factories": 3,
    "status": "running"
  }
}
```

### GET /api/v1/info

–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–µ—Ä—Å–∏–∏ —Å–µ—Ä–≤–∏—Å–∞.

## üê≥ Docker

```bash
# –°–±–æ—Ä–∫–∞
docker build -t carbone-service .

# –ó–∞–ø—É—Å–∫
docker run -p 3001:3001 carbone-service
```

–ò–ª–∏ —á–µ—Ä–µ–∑ docker-compose:

```bash
docker-compose up -d
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è        | –û–ø–∏—Å–∞–Ω–∏–µ                              | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é                           | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è |
|-------------------|---------------------------------------|----------------------------------------|--------------|
| `PORT`            | –ü–æ—Ä—Ç —Å–µ—Ä–≤–∏—Å–∞                          | `3001`                                 | –ù–µ—Ç          |
| `NODE_ENV`        | –û–∫—Ä—É–∂–µ–Ω–∏–µ                             | `development`                          | –ù–µ—Ç          |
| `LOG_LEVEL`       | –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–æ–≤ (error/warn/info/debug) | `info`                                 | –ù–µ—Ç          |
| `LOG_FORMAT`      | –§–æ—Ä–º–∞—Ç –ª–æ–≥–æ–≤ (json/simple)            | `json`                                 | –ù–µ—Ç          |
| `LIBREOFFICE_BIN` | –ü—É—Ç—å –∫ LibreOffice                    | `/usr/lib/libreoffice/program/soffice` | –ù–µ—Ç          |
| `SOFFICE_PATH`    | –ü—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ LibreOffice         | `/usr/lib/libreoffice/program`         | –ù–µ—Ç          |

## üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
carbone-service/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ config/         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ middleware/     # Middleware (–≤–∞–ª–∏–¥–∞—Ü–∏—è, –æ—à–∏–±–∫–∏)
‚îÇ   ‚îú‚îÄ‚îÄ routes/         # API endpoints
‚îÇ   ‚îú‚îÄ‚îÄ services/       # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (Carbone)
‚îÇ   ‚îî‚îÄ‚îÄ utils/          # –£—Ç–∏–ª–∏—Ç—ã (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
‚îú‚îÄ‚îÄ templates/          # –®–∞–±–ª–æ–Ω—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–ø—É—Å—Ç–∞—è –ø–∞–ø–∫–∞)
‚îú‚îÄ‚îÄ server.js           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ Dockerfile
‚îî‚îÄ‚îÄ README.md
```

## üö¢ Deployment

### GitLab CI/CD

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–µ–≥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è Docker –æ–±—Ä–∞–∑:

```bash
git tag v1.0.0
git push origin v1.0.0
```

–û–±—Ä–∞–∑ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–º registry.

### Kubernetes

–°–µ—Ä–≤–∏—Å –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π pod. document-core –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ –Ω–µ–º—É –ø–æ URL:

```
http:```

## üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å document-core

–ü—Ä–∏–º–µ—Ä –≤—ã–∑–æ–≤–∞ –∏–∑ Java:
```java
String url = "http:```

## ‚öôÔ∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: 200MB
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: .docx, .odt, .xlsx, .ods
- –í—ã—Ö–æ–¥–Ω–æ–π —Ñ–æ—Ä–º–∞—Ç: PDF

## üêõ Troubleshooting

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è PDF, –±–∏—Ç—ã–µ —Ñ–∞–π–ª—ã, –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é LibreOffice. Carbone 3.5.6 –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω —Å LibreOffice 7.5.1.1. –í–µ—Ä—Å–∏–∏ 7.6+ –º–æ–≥—É—Ç –≤—ã–∑—ã–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é 7.5.1.1 —Å [–∞—Ä—Ö–∏–≤–∞ LibreOffice](https://downloadarchive.documentfoundation.org/libreoffice/old/7.5.1.1/)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ú–µ–¥–ª–µ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
**–†–µ—à–µ–Ω–∏–µ:** –£–≤–µ–ª–∏—á—å—Ç–µ `factories` –≤ `src/config/app.config.js`

**–ü—Ä–æ–±–ª–µ–º–∞:** –û—à–∏–±–∫–∞ "Cannot find LibreOffice"
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤ Dockerfile –µ—Å—Ç—å —Å–∏–º–ª–∏–Ω–∫: `ln -s /usr/lib/libreoffice/program/soffice.bin /usr/bin/soffice.bin`

**–ü—Ä–æ–±–ª–µ–º–∞:** LibreOffice –∏–∑ PPA –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
**–†–µ—à–µ–Ω–∏–µ:** LibreOffice –∏–∑ `libreoffice/ppa` –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç Python (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –¥–ª—è Carbone). –°–∫–∞—á–∞–π—Ç–µ –≤–µ—Ä—Å–∏—é —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞ LibreOffice

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

Proprietary - forteId